<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>View Sign-ups</title>
<style>
  body {
    background-color: #cfaa5a;
    font-family: 'Times New Roman', Times, serif;
    background-image: url('https://tr.rbxcdn.com/180DAY-1e89afe49e4e3590106c05040aedb3c6/768/432/Model/Webp/noFilter');
    background-size: cover;
    background-repeat: no-repeat;
  }
  
  .myDiv {
    background-color: rgba(230, 240, 255, 0.5);
    text-align: center;
    padding: 40px;
    border-radius: 25px;
    margin: 60px auto;
    width: 80%;
    max-width: 1000px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    animation: fadeUp 1.2s ease-in-out;
  }

  h1 {
    color: #d1b7af;
    font-size: 2.2em;
  }

      .title {
          color: #d1b7af;
      }

      fieldset:nth-child(2) {
           margin-top: 20px;
      }

      legend {
          background: black;
          color: rgb(189, 176, 160);
          padding: 5px;
      }
      label {
           margin: 5%;
      }

      nav ul {
    list-style: none;
    padding: 0;
    margin: 20px 0 0;
  }

  nav ul li {
    display: inline-block; /*i will figure this out i swear*/
    margin: 10px 15px;
  }

  nav ul li a {
    text-decoration: none;
    color: #ffffff;
    background-color: rgba(180, 210, 255, 0.15);
    padding: 12px 40px;
    border-radius: 3px;
    transition: all 0.3s ease;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    border: 2px solid #636363;
    font-weight: bold;
    backdrop-filter: blur(6px);
  }

  nav ul li a:visited {
    color: #a8a6a6;
    opacity: 0.9;
  }

  nav ul li a:hover {
    background-color: rgba(191, 229, 250, 0.611);
    color: #fff;
    transform: translateY(-2px);
  }

  .footer {
    margin-top: 30px;
    font-size: 0.9em;
    color: #6a5c4b;
  }

  input:focus {
  background-color: #bfe5fa9c;
  }   

  textarea:focus {
background-color: #bfe5fa9c;
  }   

  select:focus {
background-color: #bfe5fa9c;
  }   
  </style>
</head>

<body>

  <h1>Club Sign-ups</h1>

  <label>Filter by Club:</label>
  <select id="clubFilter">
    <option value="ALL">ALL</option>
    <option value="RSMP">Roulette SMP</option>
    <option value="USMP">Unstable SMP</option>
    <option value="DDSMP">Donut SMP</option>
    <option value="SSMP">Strength SMP</option>
    <option value="DSMP">Doni SMP</option>
  </select>

  <p id="totalCount"></p>
  <p id="message"></p>

  <table id="results"></table>

  <br>
  <a href="Q3_2GBerylliumLalican.html"><â€” Back to Sign-up Page</a>

  <script>
    let acctString = localStorage.getItem("accounts");
    let accountList = acctString ? JSON.parse(acctString) : [];

    const table = document.getElementById("results");
    const filter = document.getElementById("clubFilter");
    const total = document.getElementById("totalCount");
    const msg = document.getElementById("message");

    function displayTable(list) {
        table.innerHTML = "";
        msg.innerHTML = "";

        if (list.length === 0) {
            msg.innerHTML = "No sign-ups found.";
            total.innerHTML = "";
            return;
        }

        let row = "<tr><th>Student ID</th><th>Name</th><th>Email</th><th>Grade</th><th>Club</th></tr>";

        for (let i = 0; i < list.length; i++) {
            row += "<tr>";
            row += "<td>" + list[i].sid + "</td>";
            row += "<td>" + list[i].fn + "</td>";
            row += "<td>" + list[i].ea + "</td>";
            row += "<td>" + list[i].gl + "</td>";
            row += "<td>" + list[i].oc + "</td>";
            row += "</tr>";
        }

        table.innerHTML = row;
        total.innerHTML = "Total Sign-ups: " + list.length;
    }

    displayTable(accountList);

    filter.addEventListener("change", function() {
        let selected = filter.value;

        if (selected === "ALL") {
            displayTable(accountList);
        } else {
            let filtered = accountList.filter(acc => acc.oc === selected);
            displayTable(filtered);
        }
    });
  </script>

</body>
</html>
